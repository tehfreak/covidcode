(this.webpackJsonpcovidcode=this.webpackJsonpcovidcode||[]).push([[0],{131:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(45),r=n.n(o),i=(n(131),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,233)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))},u=n(206),d=n(216),j=n(105),b=Object(j.a)({}),f=n(207),h=n(20),O=n(16),p=n(12),m=n(209),x=n(198),g=function(e){return Object(x.a)({root:{flexGrow:1,height:1,display:"flex",flexDirection:"column"},main:{flexGrow:1,height:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},nav:{}})},v=n(24),S=n(25),w=n.n(S),y=n(48),k=n(212),C=[{id:"1",name:"TEH"}];function I(e){return N.apply(this,arguments)}function N(){return(N=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("codelist")?JSON.parse(localStorage.getItem("codelist")):C,t&&void 0!==t.id&&(n=n.filter((function(e){return e.id===t.id}))),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return W.apply(this,arguments)}function W(){return(W=Object(y.a)(w.a.mark((function e(t){var n,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({id:t});case 2:return n=e.sent,a=Object(p.a)(n,1),c=a[0],e.abrupt("return",c||null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(y.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name){e.next=2;break}throw Error();case 2:return n=Object(v.a)(Object(v.a)({},t),{},{id:Object(k.a)(),name:t.name}),(a=localStorage.getItem("codelist")?JSON.parse(localStorage.getItem("codelist")):[]).push(n),localStorage.setItem("codelist",JSON.stringify(a)),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(y.a)(w.a.mark((function e(t,n){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.name){e.next=2;break}throw Error();case 2:return a=Object(v.a)(Object(v.a)({},n),{},{id:t,name:n.name}),c=(c=localStorage.getItem("codelist")?JSON.parse(localStorage.getItem("codelist")):[]).map((function(e){return e.id!==t?e:a})),localStorage.setItem("codelist",JSON.stringify(c)),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(n=localStorage.getItem("codelist")?JSON.parse(localStorage.getItem("codelist")):[]).filter((function(e){return e.id!==t})),localStorage.setItem("codelist",JSON.stringify(n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem("currentCodeId"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("currentCodeId",t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(e){return Object(x.a)({root:{},main:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mainImage:{display:"block"},foot:{position:"sticky",bottom:0},footToolbar:{justifyContent:"center"},footTabs:{},footTab:{height:64}})},G=n(218),A=n(219),P=n(220),L=n(210),R=n(221),V=n(1),M=Object(m.a)(U,{name:H.name});function H(){var e=M(),t=Object(O.h)().id;c.a.useEffect((function(){!function(e){J.apply(this,arguments)}(t)}),[t]);var n=c.a.useState(),a=Object(p.a)(n,2),o=a[0],r=a[1],i=c.a.useState(!0),s=Object(p.a)(i,2),l=s[0],u=s[1];c.a.useEffect((function(){u(!0),E(t).then((function(e){r(e),u(!1)}))}),[t]);var d=c.a.useState(null),j=Object(p.a)(d,2),b=j[0],f=j[1],m=c.a.useState(!0),x=Object(p.a)(m,2),g=x[0],v=x[1];return c.a.useEffect((function(){if(g){var e=!0;return I({}).then((function(t){e&&(f(t),v(!1))})),function(){e=!1}}}),[g]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(G.a,{position:"sticky",color:"transparent",elevation:0,children:Object(V.jsx)(A.a,{maxWidth:!1,children:Object(V.jsx)(P.a,{disableGutters:!0,children:"COVIDCODE"})})}),l&&Object(V.jsx)("div",{children:"..."}),o&&Object(V.jsx)("main",{className:e.main,children:o.imageUrl&&Object(V.jsx)("img",{className:e.mainImage,src:o.imageUrl,alt:""})}),Object(V.jsx)("div",{className:e.foot,children:Object(V.jsx)(P.a,{className:e.footToolbar,disableGutters:!0,children:b&&b.length>1&&Object(V.jsx)(L.a,{className:e.footTabs,centered:!0,variant:"scrollable",scrollButtons:!1,value:t,children:b.map((function(t){return Object(V.jsx)(R.a,{className:e.footTab,label:t.name,value:t.id,component:h.b,to:"/codes/code/".concat(t.id),replace:!0},t.id)}))})})})]})}var $=function(e){return Object(x.a)({root:{},progressContainer:{position:"relative"},progress:{position:"absolute",width:"100%"},main:{flexGrow:1,display:"flex",flexDirection:"column"},foot:{pointerEvents:"none",position:"sticky",bottom:0,display:"flex",justifyContent:"flex-end",padding:32,"& > *":{pointerEvents:"all"}}})},q=n(223),z=n(222),K=function(e){return Object(x.a)({root:{}})},Q=n(214),X=n(202),Y=n(203),Z=n(225),_=n(102),ee=n.n(_),te=n(106),ne=n(215),ae=Object(m.a)(K,{name:ce.name});function ce(e){ae(e);var t=e.item,n=c.a.useState(!1),a=Object(p.a)(n,2),o=a[0],r=a[1],i=c.a.useRef(null),s=Object(O.i)();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Q.a,{disablePadding:!0,secondaryAction:Object(V.jsx)(Z.a,{ref:i,"aria-label":"comments",edge:"end",onClick:function(){return r(!0)},children:Object(V.jsx)(ee.a,{})}),children:Object(V.jsx)(X.a,{component:h.b,to:"/codes/code/".concat(t.id),children:Object(V.jsx)(Y.a,{primary:t.name||t.id})})}),i.current&&Object(V.jsxs)(te.a,{anchorEl:i.current,open:o,onClose:function(){return r(!1)},children:[Object(V.jsx)(ne.a,{component:h.b,to:"".concat(s.path,"/").concat(t.id,"/update"),onClick:function(){return r(!1)},children:"\u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c"}),Object(V.jsx)(ne.a,{component:h.b,to:"".concat(s.path,"/").concat(t.id,"/delete"),onClick:function(){return r(!1)},children:"\u0423\u0414\u0410\u041b\u0418\u0422\u042c"})]})]})}var oe=n(224),re=n(104),ie=n.n(re),se=n(226),le=n(208),ue=n(91),de=function(e){return Object(x.a)({hidden:{position:"absolute",visibility:"hidden",width:1,height:1}})},je=n(103),be=n.n(je),fe=["classes","value","onChangeValue"],he=["hidden"],Oe=Object(m.a)(de,{name:pe.name});function pe(e){var t=Oe(e),n=(e.classes,e.value,e.onChangeValue),a=Object(ue.a)(e,fe),o=(t.hidden,Object(ue.a)(t,he)),r=c.a.useRef(null),i=c.a.useMemo((function(){if(e.value&&"string"===typeof e.value)return e.value.substring(0,300)+"..."}),[e.value]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le.a,Object(v.a)(Object(v.a)({},a),{},{classes:o,InputProps:{endAdornment:Object(V.jsx)(Z.a,{disabled:e.disabled,onClick:function(){r.current&&r.current.click()},children:Object(V.jsx)(be.a,{})})},value:i||"",onChange:e.onChange})),Object(V.jsx)("input",{ref:r,className:t.hidden,type:"file",onInput:function(e){if(r.current){var t=r.current.files;if(t&&t.length){var a=t[0],c=new FileReader;c.onloadend=function(){n(c.result?c.result:void 0)},c.readAsDataURL(a)}}},tabIndex:-1})]})}function me(e){var t=e.data,n=e.onChangeData,a=e.disabled;return Object(V.jsxs)("form",{children:[Object(V.jsx)(le.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0447\u0435\u043c \u043a\u043e\u0440\u043e\u0447\u0435, \u0442\u0435\u043c \u043b\u0443\u0447\u0448\u0435)",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,disabled:a,value:t.name||"",onChange:function(e){var a=e.target.value;n(Object(v.a)(Object(v.a)({},t),{},{name:a}))}}),Object(V.jsx)(le.a,{label:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0430 \u0413\u043e\u0441\u0443\u0441\u043b\u0443\u0433\u0430\u0445",name:"url",variant:"outlined",margin:"normal",fullWidth:!0,disabled:a,value:t.url||"",onChange:function(e){var a=e.target.value;n(Object(v.a)(Object(v.a)({},t),{},{url:a}))}}),Object(V.jsx)(pe,{label:"\u0410\u0434\u0440\u0435\u0441 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",name:"url",variant:"outlined",margin:"normal",fullWidth:!0,disabled:a,value:t.imageUrl||"",onChangeValue:function(e){n(Object(v.a)(Object(v.a)({},t),{},{imageUrl:e}))}})]})}var xe=n(227);function ge(e){var t=e.onClose,n=e.onSuccess,a=c.a.useState({}),o=Object(p.a)(a,2),r=o[0],i=o[1],s=c.a.useState(!1),l=Object(p.a)(s,2),u=l[0],d=l[1];return Object(V.jsxs)(se.a,{open:!0,onClose:t,fullScreen:!0,children:[Object(V.jsx)(G.a,{position:"sticky",color:"default",children:Object(V.jsx)(P.a,{children:"-"})}),Object(V.jsxs)(A.a,{maxWidth:"md",children:[Object(V.jsx)(me,{data:r,onChangeData:i,disabled:u}),Object(V.jsx)(xe.a,{variant:"contained",disabled:u,onClick:function(){d(!0),function(e){return D.apply(this,arguments)}(r).then((function(e){n(e)}))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})}function ve(e){var t=e.onClose,n=e.onSuccess,a=Object(O.h)().id,o=c.a.useState(),r=Object(p.a)(o,2),i=r[0],s=r[1],l=c.a.useState(!0),u=Object(p.a)(l,2),d=(u[0],u[1]);c.a.useEffect((function(){d(!0),E(a).then((function(e){s(e),d(!1)}))}),[a]);var j=c.a.useState(!1),b=Object(p.a)(j,2),f=b[0],h=b[1];return Object(V.jsxs)(se.a,{open:!0,onClose:t,fullScreen:!0,children:[Object(V.jsx)(G.a,{position:"sticky",color:"default",children:Object(V.jsx)(P.a,{children:"-"})}),i&&Object(V.jsxs)(A.a,{maxWidth:"md",children:[Object(V.jsx)(me,{data:i,onChangeData:s,disabled:f}),Object(V.jsx)(xe.a,{variant:"contained",disabled:f,onClick:function(){i&&(h(!0),function(e,t){return F.apply(this,arguments)}(a,i).then((function(e){n(e)})))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})}var Se=n(231),we=n(229),ye=n(230),ke=n(228);function Ce(e){var t=e.onClose,n=e.onSuccess,a=Object(O.h)().id;return Object(V.jsxs)(se.a,{open:!0,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(V.jsx)(ke.a,{id:"alert-dialog-title",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430"}),Object(V.jsx)(we.a,{children:Object(V.jsx)(ye.a,{id:"alert-dialog-description",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u0434?"})}),Object(V.jsxs)(Se.a,{children:[Object(V.jsx)(xe.a,{onClick:t,autoFocus:!0,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(V.jsx)(xe.a,{onClick:function(){(function(e){return T.apply(this,arguments)})(a).then((function(){n()}))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}var Ie=Object(m.a)($,{name:Ne.name});function Ne(){var e=Ie(),t=c.a.useState(null),n=Object(p.a)(t,2),a=n[0],o=n[1],r=c.a.useState(!0),i=Object(p.a)(r,2),s=i[0],l=i[1];c.a.useEffect((function(){if(s){var e=!0;return I({}).then((function(t){e&&(o(t),l(!1))})),function(){e=!1}}}),[s]);var u=Object(O.g)(),d=Object(O.i)();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(G.a,{position:"sticky",children:Object(V.jsx)(A.a,{maxWidth:!1,children:Object(V.jsx)(P.a,{disableGutters:!0,children:"COVIDCODE"})})}),s&&Object(V.jsx)("div",{className:e.progressContainer,children:Object(V.jsx)(q.a,{className:e.progress,color:"secondary"})}),Object(V.jsx)("div",{className:e.main,children:a&&Object(V.jsx)(z.a,{children:a.map((function(e){return Object(V.jsx)(ce,{item:e},e.id)}))})}),Object(V.jsx)("div",{className:e.foot,children:Object(V.jsx)(oe.a,{color:"primary",component:h.b,to:"".concat(d.url,"/create"),children:Object(V.jsx)(ie.a,{})})}),Object(V.jsxs)(O.d,{children:[Object(V.jsx)(O.b,{path:"".concat(d.path,"/create"),children:Object(V.jsx)(ge,{onClose:function(){u.goBack()},onSuccess:function(){u.goBack(),l(!0)}})}),Object(V.jsx)(O.b,{path:"".concat(d.path,"/:id/update"),children:Object(V.jsx)(ve,{onClose:function(){u.goBack()},onSuccess:function(){u.goBack(),l(!0)}})}),Object(V.jsx)(O.b,{path:"".concat(d.path,"/:id/delete"),children:Object(V.jsx)(Ce,{onClose:function(){u.goBack()},onSuccess:function(){u.goBack(),l(!0)}})})]})]})}var Ee=Object(m.a)(g,{name:We.name});function We(){Ee();var e=c.a.useState(null),t=Object(p.a)(e,2),n=t[0],a=t[1],o=c.a.useState(!0),r=Object(p.a)(o,2),i=r[0],s=r[1];return c.a.useEffect((function(){(function(){return B.apply(this,arguments)})().then((function(e){a(e),s(!1)}))}),[]),Object(V.jsx)(V.Fragment,{children:!i&&Object(V.jsxs)(O.d,{children:[Object(V.jsx)(O.b,{path:"/codes/codelist",component:Ne}),Object(V.jsx)(O.b,{path:"/codes/code/:id",component:H}),n?Object(V.jsx)(O.a,{to:"/codes/code/".concat(n)}):Object(V.jsx)(O.a,{to:"/codes/codelist"})]})})}r.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(u.a,{injectFirst:!0,children:Object(V.jsxs)(d.a,{theme:b,children:[Object(V.jsx)(f.a,{}),Object(V.jsx)(h.a,{children:Object(V.jsxs)(O.d,{children:[Object(V.jsx)(O.b,{path:"/codes",component:We}),Object(V.jsx)(O.a,{to:"/codes"})]})})]})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/covidcode",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/covidcode","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}(),l()}},[[145,1,2]]]);
//# sourceMappingURL=main.108ae9a6.chunk.js.map